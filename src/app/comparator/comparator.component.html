<div class="ui segment fluid flex-container">
    <h2 class="ui  header">{{study.properties.long_name}}</h2>

    <table
        class="ui very basic table"
        height="100%"
    >
        <thead>
            <tr>
                <th class="collapsing">Treatment Inspector</th>
                <th>Loss Analysis</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="collapsing">Values are normalised.</td>
                <td>Values are normalised.</td>
            </tr>
            <tr>
                <td
                    class="collapsing"
                    valign="top"
                >
                    <app-matrix-selector
                        [study_area]="study"
                        (selectedItems)="onSelectedItemsChange($event)"
                        #mtx
                    ></app-matrix-selector>

                    <div
                        (click)="mtx.selectAll()"
                        class="ui fluid icon button"
                    ><i class="ui green check square icon"></i> Select All</div>

                    <div
                        *ngIf="selectedItems.length > 0"
                        (click)="mtx.clearAll()"
                        class="ui fluid icon button"
                    ><i class="ui orange window close icon"></i> Clear selection</div>



                </td>

                <td
                    class=""
                    valign="top"
                >
                    <div
                        class="ui segment"
                        *ngIf="selectedItems.length == 0"
                    >
                        <div class="ui big icon message">
                            <i class="info circle icon"></i>
                            <div class="content">
                                <div class="header">Make a selection</div>
                                <p>Select Landscape / Edge Percentage Burnt to compare losses.</p>
                            </div>
                        </div>
                    </div>


                    <div *ngIf="selectedItems.length > 0">
                        <div
                            class="ui field"
                            *ngIf="selectedItems.length > 0"
                        >
                            <app-scope-option (scopeChange)="onScopeChange($event)"></app-scope-option>
                        </div>

                        <app-barchart
                            *ngIf="selectedItems.length > 0"
                            [scope]="scope"
                            [chart_title]="'Losses using Landscape and Edge Treatment Regimes'"
                            [description]="'Lower is better.'"
                            [area]="study.properties.sim_name"
                            [positions]="selectedItems"
                            #barchart
                        ></app-barchart>

                        <app-boxplot [source]="selectedItems"></app-boxplot>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
